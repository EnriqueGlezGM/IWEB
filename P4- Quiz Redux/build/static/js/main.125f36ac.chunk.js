(this.webpackJsonppractica4=this.webpackJsonppractica4||[]).push([[0],{21:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(1),r=n.n(i),o=n(9),c=n.n(o),a=(n(21),n(2)),u=n(3),p=n(5),l=n(4),h=n(8),d=n(6),j="QUESTION_ANSWER",b="SUBMIT",m="CHANGE_QUIZ",O="INIT_QUIZZES",f="START_TIMER",v="DECREASE_TIMER",y="RESET_TIMER";function z(){return{type:v}}var x=Object(d.b)({score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case b:var n=0;return t.payload.quizzes.map((function(e){return n+=e.userAnswer===e.answer?1:0})),n;case O:return 0;default:return e}},finished:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case b:return!0;case O:return!1;default:return e}},currentQuiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case m:return t.payload.index<0||t.payload.index>=10?e:t.payload.index;case O:return 0;default:return e}},quizzes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case j:return e.map((function(e,n){return Object(h.a)(Object(h.a)({},e),{},{userAnswer:t.payload.index===n?t.payload.answer:e.userAnswer})}));case O:return JSON.parse(JSON.stringify(t.payload.quizzes));default:return e}},timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case f:return 180;case v:return--e;case y:return 0;default:return e}}}),g=n(10),N=n(7),C=(n(28),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("myModal"),t=document.getElementById("myImg"),n=document.getElementById("img01"),s=document.getElementById("caption");t.onclick=function(){e.style.display="block",n.src=this.src,s.innerHTML=this.alt},document.getElementsByClassName("close")[0].onclick=function(){e.style.display="none"}}},{key:"render",value:function(){return null!==this.props.att?Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{id:"myImg",src:this.props.att.url,alt:this.props.question,title:"Foto del quiz"}),Object(s.jsxs)("div",{id:"myModal",className:"modal",children:[Object(s.jsx)("span",{className:"close",children:"\xd7"}),Object(s.jsx)("img",{className:"modal-content",alt:"",id:"img01"}),Object(s.jsx)("div",{id:"caption"})]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:"https://siempreenmedio.files.wordpress.com/2014/04/no_disponible.jpg",alt:this.props.question,id:"myImg"}),Object(s.jsxs)("div",{id:"myModal",className:"modal",alt:"",children:[Object(s.jsx)("span",{className:"close",children:"\xd7"}),Object(s.jsx)("img",{className:"modal-content",id:"img01",alt:""}),Object(s.jsx)("div",{id:"caption"})]})]})}}]),n}(r.a.Component)),Q=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)("h1",{className:"questionContainer",children:this.props.question})}}]),n}(r.a.Component),w=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"authorContainer",style:{display:this.props.isFinished?"none":"flex"},children:null!==this.props.author?Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{className:"authorName",children:["Created by ",null!==this.props.author.username?this.props.author.username:this.props.author.profileName]}),Object(s.jsx)("img",{title:"Foto del autor",src:null!==this.props.author.photo.url?this.props.author.photo.url:"https://www.movilzona.es/app/uploads/2019/05/Foto-de-Perfil-en-WhatsApp.jpg",alt:""})]}):Object(s.jsx)("div",{children:Object(s.jsx)("p",{className:"authorName",children:"No hay informaci\xf3n del autor"})})})}}]),n}(r.a.Component),q=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){document.getElementById("answerUser").addEventListener("keyup",(function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("enterButton").click())}))}},{key:"componentDidUpdate",value:function(){document.getElementById("answerUser").focus()}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"contentContainer",style:{display:this.props.isFinished?"none":"flex"},children:[Object(s.jsxs)("div",{className:"quizContainer",children:[Object(s.jsx)(Q,{question:this.props.quiz.question}),Object(s.jsx)("input",{autoFocus:!0,title:"Escriba aqui su respuesta",placeholder:"Respuesta...",id:"answerUser",type:"text",value:this.props.quiz.userAnswer||"",onChange:function(t){e.props.onQuestionAnswer(t.target.value)}}),Object(s.jsx)("button",{style:{display:"none"},id:"enterButton",onClick:this.props.Quiz9?this.props.submitFunction:function(){e.props.onChangeQuiz(e.props.currentQuiz+1)}}),Object(s.jsx)(w,{author:this.props.quiz.author,isFinished:this.props.finished})]}),Object(s.jsx)("div",{className:"imageContainer",children:Object(s.jsx)(C,{att:this.props.quiz.attachment,question:this.props.quiz.question})})]})}}]),n}(r.a.Component),k=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("button",{className:"buttonsFormat",disabled:this.props.shutdown,style:{cursor:this.props.shutdown?"not-allowed":"pointer"},onClick:this.props.click,children:[Object(s.jsx)("span",{className:"noNameHover",children:this.props.Name},this.props.Name),Object(s.jsx)("span",{className:"material-icons",children:this.props.Icon},this.props.Icon)]},this.props.Name+"s")}}]),n}(r.a.Component),F=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"actionBarContainer",children:[Object(s.jsx)("div",{className:"buttons",id:"replay",style:{display:this.props.isFinished?"flex":"none"},children:Object(s.jsx)(k,{click:this.props.resetFunction,Name:"VOLVER A JUGAR",Icon:"replay"})},"replay"),Object(s.jsxs)("div",{className:"buttons",style:{display:this.props.isFinished?"none":"flex"},children:[Object(s.jsx)(k,{click:this.props.resetFunction,Name:"RESET",Icon:"autorenew"}),Object(s.jsx)(k,{Name:"ANTERIOR",Icon:"undo",shutdown:this.props.Quiz0,click:function(){e.props.onChangeQuiz(e.props.currentQuiz-1)}}),Object(s.jsx)(k,{Name:"SIGUIENTE",Icon:"redo",shutdown:this.props.Quiz9,click:function(){e.props.onChangeQuiz(e.props.currentQuiz+1)}}),Object(s.jsx)(k,{click:this.props.submitFunction,Name:"SUBMIT",Icon:"done",shutdown:!1})]},"buttons")]},"actionBarContainer")}}]),n}(r.a.Component),I=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"scoreContainer",style:{display:this.props.isFinished?"flex":"none"},children:Object(s.jsxs)("div",{className:"numberScore",children:[Object(s.jsxs)("h2",{children:["Tu puntuaci\xf3n: ",this.props.score,"/10"]}),this.props.quizzes.map((function(e,t){return Object(s.jsxs)("div",{className:"listContainer",children:["Pregunta ",t+1,": ",e.question," -- ",void 0===e.userAnswer?Object(s.jsx)("span",{style:{color:"orange"},children:"Sin responder"}):e.answer.toLowerCase()===e.userAnswer.toLowerCase()?Object(s.jsx)("span",{style:{color:"green"},children:"CORRECTA"}):Object(s.jsx)("span",{style:{color:"red"},children:"INCORRECTA"})]},t)}))]})})}}]),n}(r.a.Component),E=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("button",{className:this.props.currentQuiz===this.props.num-1?"inButton":"buttonsFormat",onClick:function(){e.props.onChangeQuiz(e.props.num-1)},children:[Object(s.jsx)("span",{style:{display:""===this.props.icon?"flex":"none"},children:this.props.num}),Object(s.jsx)("span",{className:"material-icons",style:{display:""===this.props.icon?"none":"flex"},children:this.props.icon})]},this.props.num)}}]),n}(r.a.Component),A=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"indexBarContainer",children:Object(s.jsx)("div",{className:"buttons",style:{display:this.props.isFinished?"none":"flex"},children:this.props.quizzes.map((function(t,n){return Object(s.jsx)(E,{onChangeQuiz:e.props.onChangeQuiz,num:n+1,currentQuiz:e.props.currentQuiz,quizzes:e.props.quizzes,icon:void 0===t.userAnswer||""===t.userAnswer?"":"task_alt"})}))})})}}]),n}(r.a.Component),B=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"gameContainer",children:[Object(s.jsx)(A,{onChangeQuiz:this.props.onChangeQuiz,isFinished:this.props.finished,currentQuiz:this.props.currentQuiz,quizzes:this.props.quizzes}),Object(s.jsxs)("div",{className:"bigContainer",children:[Object(s.jsx)(q,{onQuestionAnswer:this.props.onQuestionAnswer,quiz:this.props.quizzes[this.props.currentQuiz],isFinished:this.props.finished,currentQuiz:this.props.currentQuiz,onChangeQuiz:this.props.onChangeQuiz,Quiz9:this.props.Quiz9,submitFunction:this.props.submitFunction}),Object(s.jsx)(I,{score:this.props.score,isFinished:this.props.finished,quizzes:this.props.quizzes})]}),Object(s.jsx)(F,{currentQuiz:this.props.currentQuiz,onChangeQuiz:this.props.onChangeQuiz,Quiz9:this.props.Quiz9,Quiz0:this.props.Quiz0,submitFunction:this.props.submitFunction,isFinished:this.props.finished,resetFunction:this.props.resetFunction})]})}}]),n}(r.a.Component),R=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this.props.timer;return t>60?t-=60*(e=parseInt(t/60)):e=0,Object(s.jsx)("div",{className:"timerContainer",children:this.props.timer<=0?Object(s.jsxs)("div",{className:"noTime",children:[" ",Object(s.jsx)("p",{children:"GAME OVER"})]}):Object(s.jsx)("div",{className:"timerNum",children:Object(s.jsxs)("p",{style:{color:t<=15&&0===e?"red":"white"},children:["0",e," : ",t<10?"0":"",t]})})})}}]),n}(r.a.Component),S=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"navBar",children:[Object(s.jsx)("p",{children:this.props.title}),Object(s.jsx)(R,{timer:this.props.timer})]})}}]),n}(r.a.Component),T=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).quizzes=[],s.download=s.download.bind(Object(N.a)(s)),s.submitFunction=s.submitFunction.bind(Object(N.a)(s)),s.resetFunction=s.resetFunction.bind(Object(N.a)(s)),s}return Object(u.a)(n,[{key:"download",value:function(e){var t=this;fetch("https://core.dit.upm.es/api/quizzes/random10wa?token=e3cb568696724be8d58a").then((function(e){return e.json()})).then((function(n){n.map((function(t){return t.question&&e.push(t),0})),t.props.dispatch(function(e){return{type:O,payload:{quizzes:e}}}(e))}))}},{key:"componentDidMount",value:function(){var e=this;this.download(this.quizzes),this.timer=setInterval((function(){e.props.timer>0?e.props.dispatch(z()):e.submitFunction()}),1e3)}},{key:"resetFunction",value:function(){var e=this;this.quizzes=[],this.download(this.quizzes),clearInterval(this.timer),this.props.dispatch({type:f}),this.timer=setInterval((function(){e.props.timer>0?e.props.dispatch(z()):e.submitFunction()}),1e3)}},{key:"submitFunction",value:function(){var e;this.props.dispatch((e=this.props.quizzes,{type:b,payload:{quizzes:e}})),this.props.dispatch({type:y})}},{key:"render",value:function(){var e=this,t=this.props.currentQuiz;if(this.props.quizzes.length>0){var n=9===t,i=0===t;return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(S,{title:"QUIZ 2020",timer:this.props.timer}),Object(s.jsx)("div",{className:"mainContainer",children:Object(s.jsx)(B,{quizzes:this.props.quizzes,currentQuiz:this.props.currentQuiz,score:this.props.score,finished:this.props.finished,onQuestionAnswer:function(t){e.props.dispatch(function(e,t){return{type:j,payload:{index:e,answer:t}}}(e.props.currentQuiz,t))},onChangeQuiz:function(t){e.props.dispatch({type:m,payload:{index:t}})},resetFunction:this.resetFunction,submitFunction:this.submitFunction,Quiz9:n,Quiz0:i})})]})}return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(S,{title:"QUIZ 2020",timer:this.props.timer}),Object(s.jsx)("div",{className:"noQuizzes",children:" Cargando las preguntas... "}),Object(s.jsx)("img",{className:"App-logo",src:"https://assets.stickpng.com/thumbs/59300d633919fe0ee3614de3.png",alt:""})]})}}]),n}(i.Component);var M=Object(g.b)((function(e){return Object(h.a)({},e)}))(T),U=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).initialState={score:0,finished:!1,currentQuiz:0,quizzes:[],timer:180},s.store=s.configureStore(),s}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(g.a,{store:this.store,children:Object(s.jsx)("div",{style:{height:"100%"},children:Object(s.jsx)(M,{store:this.store})})})}},{key:"configureStore",value:function(){return Object(d.c)(x,this.initialState)}}]),n}(r.a.Component);c.a.render(Object(s.jsx)(U,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.125f36ac.chunk.js.map